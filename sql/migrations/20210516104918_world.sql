DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20210516104918');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20210516104918');
-- Add your query below.


-- Giant Clam spawns in the open world.
INSERT INTO `gameobject` (`guid`, `id`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecsmin`, `spawntimesecsmax`, `state`, `animprogress`) VALUES 
(48019, 19018, 0, -2994.04, -903.637, -7.62413, 1.69297, 0, 0, 0.748956, 0.66262, 7200, 7200, 1, 100),
(48020, 19018, 0, -2858.22, -885.326, -10.7018, 5.63741, 0, 0, -0.317305, 0.948324, 7200, 7200, 1, 100),
(48021, 19018, 0, -2652.34, -1173, -14.9991, 0.506145, 0, 0, 0.25038, 0.968148, 7200, 7200, 1, 100),
(48022, 19018, 0, -3970.02, -825.537, -15.9226, 3.07177, 0, 0, 0.999391, 0.0349061, 7200, 7200, 1, 100),
(48023, 19018, 0, -3495, -614.751, -15.8589, 5.68977, 0, 0, -0.292372, 0.956305, 7200, 7200, 1, 100),
(48024, 19018, 0, -3818.38, -1027.33, -32.0284, 1.93731, 0, 0, 0.824125, 0.566408, 7200, 7200, 1, 100),
(48025, 19018, 0, -2693.15, -1125.63, -14.4795, 2.51327, 0, 0, 0.951056, 0.309017, 7200, 7200, 1, 100),
(48026, 19018, 0, -3889.25, -917.226, -16.32, 1.06465, 0, 0, 0.507538, 0.861629, 7200, 7200, 1, 100),
(48027, 19018, 0, -3276.94, -618.367, -19.3885, 2.63544, 0, 0, 0.968147, 0.250381, 7200, 7200, 1, 100),
(48028, 19018, 0, -3053.88, -858.912, -11.511, 1.5708, 0, 0, 0.707107, 0.707107, 7200, 7200, 1, 100),
(48029, 19018, 0, -2561.04, -1548.82, -13.6165, 2.67035, 0, 0, 0.972369, 0.233448, 7200, 7200, 1, 100),
(48030, 19018, 0, -3294.76, -725.894, -10.2695, 1.32645, 0, 0, 0.615661, 0.788011, 7200, 7200, 1, 100),
(48031, 19018, 0, -3772.39, -1127.48, -32.052, 5.48033, 0, 0, -0.390731, 0.920505, 7200, 7200, 1, 100),
(48032, 19018, 0, -3149.63, -691.317, -34.9023, 5.09636, 0, 0, -0.559193, 0.829038, 7200, 7200, 1, 100),
(48033, 19018, 0, -3278.25, -873.477, -12.465, 1.98967, 0, 0, 0.83867, 0.54464, 7200, 7200, 1, 100),
(48034, 19018, 0, -2615.08, -1484.81, -12.936, 6.23083, 0, 0, -0.0261765, 0.999657, 7200, 7200, 1, 100),
(48042, 19018, 0, -2517.14, -1307.27, -42.1596, 1.23918, 0, 0, 0.580703, 0.814116, 7200, 7200, 1, 100),
(48043, 19018, 0, -2516.31, -1265.5, -47.1902, 0.314158, 0, 0, 0.156434, 0.987688, 7200, 7200, 1, 100),
(48044, 19018, 0, -2631.94, -1345.48, -12.8758, 1.48353, 0, 0, 0.67559, 0.737278, 7200, 7200, 1, 100),
(48045, 19018, 0, -2646.41, -1246.56, -14.4197, 0.0698117, 0, 0, 0.0348988, 0.999391, 7200, 7200, 1, 100),
(48046, 19018, 1, 4350.63, 890.248, -21.1362, 3.87463, 0, 0, -0.93358, 0.358368, 7200, 7200, 1, 100),
(48047, 19018, 1, 4289.04, 988.901, -25.8321, 4.79966, 0, 0, -0.67559, 0.737278, 7200, 7200, 1, 100);
INSERT INTO `pool_template` (`entry`, `max_limit`, `description`, `flags`, `instance`, `patch_min`, `patch_max`) VALUES (1340, 4, 'Wetlands - Giant Clam', 0, 0, 0, 10);
INSERT INTO `pool_gameobject` (`guid`, `pool_entry`, `chance`, `description`) VALUES
(14630, 1340, 0, 'Giant Clam'),
(48019, 1340, 0, 'Giant Clam'),
(48020, 1340, 0, 'Giant Clam'),
(48021, 1340, 0, 'Giant Clam'),
(48022, 1340, 0, 'Giant Clam'),
(48023, 1340, 0, 'Giant Clam'),
(48024, 1340, 0, 'Giant Clam'),
(48025, 1340, 0, 'Giant Clam'),
(48026, 1340, 0, 'Giant Clam'),
(48027, 1340, 0, 'Giant Clam'),
(48028, 1340, 0, 'Giant Clam'),
(48029, 1340, 0, 'Giant Clam'),
(48030, 1340, 0, 'Giant Clam'),
(48031, 1340, 0, 'Giant Clam'),
(48032, 1340, 0, 'Giant Clam'),
(48033, 1340, 0, 'Giant Clam'),
(48034, 1340, 0, 'Giant Clam'),
(48042, 1340, 0, 'Giant Clam'),
(48043, 1340, 0, 'Giant Clam'),
(48044, 1340, 0, 'Giant Clam'),
(48045, 1340, 0, 'Giant Clam');

-- Giant Clam spawns in Blackfathom Deeps.
INSERT INTO `gameobject` (`guid`, `id`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecsmin`, `spawntimesecsmax`, `state`, `animprogress`) VALUES 
(32936, 19018, 48, -302.454, 48.7869, -67.4272, 4.53786, 0, 0, -0.766044, 0.642789, 7200, 7200, 1, 100),
(32937, 19018, 48, -348.722, -34.5047, -68.4577, 3.45576, 0, 0, -0.987688, 0.156436, 7200, 7200, 1, 100),
(32938, 19018, 48, -345.41, 222.052, -67.923, 4.5204, 0, 0, -0.771625, 0.636078, 7200, 7200, 1, 100),
(32939, 19018, 48, -489.734, 144.383, -72.4147, 1.58825, 0, 0, 0.71325, 0.70091, 7200, 7200, 1, 100),
(32940, 19018, 48, -359.856, 279.128, -77.019, 2.61799, 0, 0, 0.965925, 0.258821, 7200, 7200, 1, 100),
(32941, 19018, 48, -526.051, 149.893, -79.707, 4.66003, 0, 0, -0.725374, 0.688355, 7200, 7200, 1, 100);
INSERT INTO `pool_template` (`entry`, `max_limit`, `description`, `flags`, `instance`, `patch_min`, `patch_max`) VALUES (1341, 6, 'Blackfathom Deeps - Giant Clam', 0, 0, 0, 10);
INSERT INTO `pool_gameobject` (`guid`, `pool_entry`, `chance`, `description`) VALUES
(32607, 1341, 0, 'Giant Clam'),
(32609, 1341, 0, 'Giant Clam'),
(32615, 1341, 0, 'Giant Clam'),
(32617, 1341, 0, 'Giant Clam'),
(32618, 1341, 0, 'Giant Clam'),
(32619, 1341, 0, 'Giant Clam'),
(32685, 1341, 0, 'Giant Clam'),
(32687, 1341, 0, 'Giant Clam'),
(32689, 1341, 0, 'Giant Clam'),
(32691, 1341, 0, 'Giant Clam'),
(32692, 1341, 0, 'Giant Clam'),
(32934, 1341, 0, 'Giant Clam'),
(32936, 1341, 0, 'Giant Clam'),
(32937, 1341, 0, 'Giant Clam'),
(32938, 1341, 0, 'Giant Clam'),
(32939, 1341, 0, 'Giant Clam'),
(32940, 1341, 0, 'Giant Clam'),
(32941, 1341, 0, 'Giant Clam');

-- Giant Clam spawns in Stranglethorn Vale.
INSERT INTO `gameobject` (`guid`, `id`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecsmin`, `spawntimesecsmax`, `state`, `animprogress`) VALUES 
(32107, 2744, 0, -12348.9, 442.909, -38.4706, 4.45059, 0, 0, -0.793353, 0.608762, 900, 900, 1, 100),
(32108, 2744, 0, -12409.3, 503.58, -75.63, 3.38594, 0, 0, -0.992546, 0.12187, 900, 900, 1, 100),
(32109, 2744, 0, -12287.7, 479.775, -58.4963, 5.14872, 0, 0, -0.537299, 0.843392, 900, 900, 1, 100),
(32110, 2744, 0, -12266.8, 541.269, -109.598, 2.80997, 0, 0, 0.986285, 0.16505, 900, 900, 1, 100),
(32111, 2744, 0, -12282.7, 538.593, -84.8115, 4.93928, 0, 0, -0.622514, 0.782609, 900, 900, 1, 100),
(32112, 2744, 0, -12142.8, 466.669, -30.6374, 4.15388, 0, 0, -0.874619, 0.48481, 900, 900, 1, 100),
(32113, 2744, 0, -12152.2, 490.979, -60.2822, 0.820303, 0, 0, 0.398748, 0.91706, 900, 900, 1, 100),
(32119, 2744, 0, -12177.6, 575.857, -28.9876, 1.46608, 0, 0, 0.66913, 0.743145, 900, 900, 1, 100),
(32120, 2744, 0, -12294.1, 650.813, -82.8748, 2.33874, 0, 0, 0.920505, 0.390732, 900, 900, 1, 100),
(32121, 2744, 0, -12314.9, 678.075, -60.3504, 2.02458, 0, 0, 0.848047, 0.529921, 900, 900, 1, 100),
(32122, 2744, 0, -12481.4, 505.267, -61.4614, 1.97222, 0, 0, 0.833885, 0.551938, 900, 900, 1, 100),
(32124, 2744, 0, -12406.9, 440.62, -41.5364, 2.70526, 0, 0, 0.976295, 0.216442, 900, 900, 1, 100),
(32125, 2744, 0, -12458.4, 454.407, -43.0031, 2.68781, 0, 0, 0.97437, 0.224951, 900, 900, 1, 100),
(32126, 2744, 0, -12305.7, 435.504, -20.5356, 3.927, 0, 0, -0.923879, 0.382686, 900, 900, 1, 100),
(32127, 2744, 0, -12197, 466.843, -54.4156, 0.488691, 0, 0, 0.241921, 0.970296, 900, 900, 1, 100),
(32129, 2744, 0, -12223.4, 506.735, -95.906, 1.53589, 0, 0, 0.694658, 0.71934, 900, 900, 1, 100),
(32133, 2744, 0, -12150.6, 445.523, -11.8545, 0.209439, 0, 0, 0.104528, 0.994522, 900, 900, 1, 100),
(32136, 2744, 0, -12439.7, 455.677, -47.6966, 0.750491, 0, 0, 0.366501, 0.930418, 900, 900, 1, 100),
(32137, 2744, 0, -12472.2, 554.971, -60.85, 0.0698117, 0, 0, 0.0348988, 0.999391, 900, 900, 1, 100),
(32138, 2744, 0, -12357.5, 690.599, -21.5122, 3.59538, 0, 0, -0.97437, 0.224951, 900, 900, 1, 100),
(32139, 2744, 0, -12415.2, 674.245, -67.7239, 2.44346, 0, 0, 0.939692, 0.342021, 900, 900, 1, 100),
(32140, 2744, 0, -12390.2, 608.607, -106.115, 5.2709, 0, 0, -0.484809, 0.87462, 900, 900, 1, 100),
(32141, 2744, 0, -12453.5, 519.727, -72.1775, 5.79449, 0, 0, -0.241921, 0.970296, 900, 900, 1, 100),
(32142, 2744, 0, -12357.2, 576.18, -71.4579, 5.23599, 0, 0, -0.5, 0.866025, 900, 900, 1, 100),
(32143, 2744, 0, -12324.1, 535.954, -65.3734, 0.663223, 0, 0, 0.325567, 0.945519, 900, 900, 1, 100),
(32144, 2744, 0, -12357.7, 475.236, -90.5012, 1.62316, 0, 0, 0.725374, 0.688355, 900, 900, 1, 100),
(32145, 2744, 0, -12436, 582.399, -103.411, 1.13446, 0, 0, 0.537299, 0.843392, 900, 900, 1, 100),
(32146, 2744, 0, -12422.2, 529.306, -92.2595, 0.802851, 0, 0, 0.390731, 0.920505, 900, 900, 1, 100),
(32147, 2744, 0, -12410.5, 455.937, -63.8843, 6.02139, 0, 0, -0.130526, 0.991445, 900, 900, 1, 100),
(32150, 2744, 0, -12173.4, 515.218, -66.0793, 5.55015, 0, 0, -0.358368, 0.933581, 900, 900, 1, 100),
(32151, 2744, 0, -12433.4, 709.912, -53.2277, 0, 0, 0, 0, 1, 900, 900, 1, 100),
(32152, 2744, 0, -12446.7, 653.497, -76.8186, 1.41372, 0, 0, 0.649447, 0.760406, 900, 900, 1, 100),
(32153, 2744, 0, -12424.4, 635.399, -99.6658, 4.39823, 0, 0, -0.809016, 0.587786, 900, 900, 1, 100),
(32154, 2744, 0, -12472.4, 594.996, -87.6875, 3.87463, 0, 0, -0.93358, 0.358368, 900, 900, 1, 100),
(32155, 2744, 0, -12373, 576.608, -88.2533, 1.65806, 0, 0, 0.737277, 0.675591, 900, 900, 1, 100),
(32157, 2744, 0, -12441.3, 545.549, -81.1741, 6.02139, 0, 0, -0.130526, 0.991445, 900, 900, 1, 100),
(32159, 2744, 0, -12297.1, 488.231, -78.2284, 4.62512, 0, 0, -0.737277, 0.675591, 900, 900, 1, 100),
(32163, 2744, 0, -12257.3, 455.252, -46.6031, 1.58825, 0, 0, 0.71325, 0.70091, 900, 900, 1, 100),
(32165, 2744, 0, -12306.8, 527.464, -83.1399, 0.104719, 0, 0, 0.0523357, 0.99863, 900, 900, 1, 100),
(32166, 2744, 0, -12210.5, 528.479, -65.7092, 3.35105, 0, 0, -0.994521, 0.104535, 900, 900, 1, 100),
(32167, 2744, 0, -12244.3, 581.705, -74.9789, 6.10865, 0, 0, -0.0871553, 0.996195, 900, 900, 1, 100),
(32170, 2744, 0, -12144.1, 581.714, -28.6632, 1.36136, 0, 0, 0.62932, 0.777146, 900, 900, 1, 100),
(32172, 2744, 0, -12210.1, 714.832, -58.2952, 1.32645, 0, 0, 0.615661, 0.788011, 900, 900, 1, 100),
(32180, 2744, 0, -12388, 685.329, -53.2183, 0.0174525, 0, 0, 0.00872612, 0.999962, 900, 900, 1, 100),
(32187, 2744, 0, -12466.1, 567.427, -69.4962, 0.436332, 0, 0, 0.216439, 0.976296, 900, 900, 1, 100),
(32275, 2744, 0, -12339.2, 605.054, -66.5669, 0.209439, 0, 0, 0.104528, 0.994522, 900, 900, 1, 100),
(32276, 2744, 0, -12328.5, 572.81, -65.9415, 3.87463, 0, 0, -0.93358, 0.358368, 900, 900, 1, 100),
(32277, 2744, 0, -12359.6, 665.046, -37.0337, 3.54302, 0, 0, -0.979924, 0.19937, 900, 900, 1, 100),
(32278, 2744, 0, -12314.4, 616.901, -43.5425, 2.18166, 0, 0, 0.887011, 0.461749, 900, 900, 1, 100),
(32281, 2744, 0, -12280, 598.151, -102.022, 0.0174525, 0, 0, 0.00872612, 0.999962, 900, 900, 1, 100),
(32283, 2744, 0, -12407.2, 633.138, -89.5317, 3.17653, 0, 0, -0.999847, 0.0174693, 900, 900, 1, 100),
(32286, 2744, 0, -12378.9, 647.65, -64.9649, 5.0091, 0, 0, -0.594823, 0.803857, 900, 900, 1, 100),
(32290, 2744, 0, -12420.9, 564.301, -96.0813, 5.65487, 0, 0, -0.309016, 0.951057, 900, 900, 1, 100);
INSERT INTO `pool_template` (`entry`, `max_limit`, `description`, `flags`, `instance`, `patch_min`, `patch_max`) VALUES (1342, 15, 'Stranglethorn Vale - Giant Clam', 0, 0, 0, 10);
INSERT INTO `pool_gameobject_template` (`id`, `pool_entry`, `chance`, `description`, `flags`, `patch_min`, `patch_max`) VALUES (2744, 1342, 0, 'Stranglethorn Vale - Giant Clam', 0, 0, 10);

-- Fix loot from Giant Clam 19018.
DELETE FROM `gameobject_loot_template` WHERE `entry`=2959;
INSERT INTO `gameobject_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `patch_min`, `patch_max`) VALUES (2959, 5504, 100, 0, 1, 3, 0, 0, 10);
INSERT INTO `gameobject_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `patch_min`, `patch_max`) VALUES (2959, 5498, 5, 0, 1, 1, 0, 0, 10);
INSERT INTO `gameobject_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `patch_min`, `patch_max`) VALUES (2959, 1780, 4, 0, 1, 1, 0, 0, 10);
INSERT INTO `gameobject_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `patch_min`, `patch_max`) VALUES (2959, 2143, 4, 0, 1, 1, 0, 0, 10);
INSERT INTO `gameobject_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `patch_min`, `patch_max`) VALUES (2959, 5500, 4, 0, 1, 1, 0, 0, 10);
INSERT INTO `gameobject_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `patch_min`, `patch_max`) VALUES (2959, 1755, 2, 0, 1, 1, 0, 0, 10);
INSERT INTO `gameobject_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `patch_min`, `patch_max`) VALUES (2959, 2991, 0.2, 0, 1, 1, 0, 0, 10);

-- Fix loot from Giant Clam 19017.
DELETE FROM `gameobject_loot_template` WHERE `entry`=2954;
INSERT INTO `gameobject_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `patch_min`, `patch_max`) VALUES (2954, 5503, 100, 0, 1, 1, 0, 0, 10);
INSERT INTO `gameobject_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `patch_min`, `patch_max`) VALUES (2954, 5498, 5, 0, 1, 1, 0, 0, 10);


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
