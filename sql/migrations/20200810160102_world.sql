DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20200810160102');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20200810160102');
-- Add your query below.


-- partial correct waypoints for creature guid 49855
DELETE FROM `creature_movement` WHERE `id` = 49855;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(49855, 1, 9761.1, 916.333, 1296.89, 100, 0, 0, 0),
(49855, 2, 9773.3, 910.751, 1297.81, 100, 0, 0, 0),
(49855, 3, 9793.14, 907.982, 1297.83, 100, 0, 0, 0),
(49855, 4, 9812.92, 907.785, 1301.41, 100, 0, 0, 0),
(49855, 5, 9829.25, 910.465, 1304.16, 100, 0, 0, 0),
(49855, 6, 9839.13, 909.586, 1305.28, 100, 0, 0, 0),
(49855, 7, 9848.3, 905.809, 1306.04, 100, 0, 0, 0),
(49855, 8, 9857.11, 901.945, 1306.52, 100, 0, 0, 0),
(49855, 9, 9873.25, 897.568, 1308.53, 100, 0, 0, 0),
(49855, 10, 9878.49, 890.604, 1308.78, 100, 0, 0, 0),
(49855, 11, 9878.3, 872.068, 1306.8, 100, 0, 0, 0),
(49855, 12, 9876.33, 848.658, 1307.22, 100, 0, 0, 0),
(49855, 13, 9878.74, 861.367, 1307.22, 100, 0, 0, 0),
(49855, 14, 9886.14, 888.732, 1307.49, 100, 0, 0, 0),
(49855, 15, 9886.91, 898.504, 1307.47, 100, 0, 0, 0),
(49855, 16, 9885.57, 908.491, 1307.44, 100, 0, 0, 0),
(49855, 17, 9882.27, 917.977, 1307.43, 100, 0, 0, 0),
(49855, 18, 9878.06, 927.137, 1307.75, 100, 0, 0, 0),
(49855, 19, 9870.88, 938.511, 1307.6, 100, 0, 0, 0),
(49855, 20, 9863.09, 949.523, 1306.89, 100, 0, 0, 0),
(49855, 21, 9855.87, 960.866, 1306.06, 100, 0, 0, 0),
(49855, 22, 9849.67, 976.413, 1305.31, 100, 0, 0, 0),
(49855, 23, 9846.84, 992.134, 1305.39, 100, 0, 0, 0),
(49855, 24, 9845.96, 1007.91, 1305.4, 100, 0, 0, 0),
(49855, 25, 9846.1, 1022.47, 1305.25, 100, 0, 0, 0),
(49855, 26, 9846.65, 1036.46, 1304.84, 100, 0, 0, 0),
(49855, 27, 9849.98, 1048.48, 1305.17, 100, 0, 0, 0),
(49855, 28, 9854.01, 1061.11, 1306.48, 100, 0, 0, 0),
(49855, 29, 9851.01, 1051.55, 1305.38, 100, 0, 0, 0),
(49855, 30, 9847.73, 1038.48, 1304.88, 100, 0, 0, 0),
(49855, 31, 9833.83, 1024.66, 1308.09, 100, 0, 0, 0),
(49855, 32, 9822.66, 1019.02, 1305.17, 100, 0, 0, 0),
(49855, 33, 9809.52, 1012.56, 1304.7, 100, 0, 0, 0),
(49855, 34, 9795.6, 1005.77, 1300.01, 100, 0, 0, 0),
(49855, 35, 9778.96, 995.822, 1297.96, 100, 0, 0, 0),
(49855, 36, 9763.58, 981.154, 1295.48, 100, 0, 0, 0),
(49855, 37, 9748.89, 963.402, 1293.12, 100, 0, 0, 0),
(49855, 38, 9744.31, 946.046, 1293.16, 100, 0, 0, 0),
(49855, 39, 9749.49, 928.846, 1295.62, 100, 0, 0, 0);



-- add waypoints to creature 48164 (done by eye data not available)
UPDATE `creature` SET `movement_type` = 2 WHERE `guid` = 48164
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(48164, 1, 9817.79, 432.526, 1317.18, 100, 10000, 0, 0),
(48164, 2, 9835.47, 438.116, 1317.18, 100, 10000, 0, 0);


-- move creature 49499 (done by eye data not available)
UPDATE `creature` SET `position_x` = 9549.59, `position_y` = 690.513, `position_z` = 1264.922, `movement_type` = 1, `wander_distance` = 5 WHERE `guid` = 49499;


-- correct waypoints for creature guid 49845
DELETE FROM `creature_movement` WHERE `id` = 49845;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES
(49845 1 9767.78 935.563 1302.9 100 0 0 0),
(49845 2 9767.4 929.878 1300.82 100 0 0 0),
(49845 3 9766.85 923.663 1298.71 100 3000 0 0),
(49845 4 9767.35 929.341 1300.62 100 0 0 0),
(49845 5 9767.75 934.982 1302.65 100 0 0 0),
(49845 6 9769.06 940.29 1304.95 100 0 0 0),
(49845 7 9772.48 944.878 1306.41 100 0 0 0),
(49845 8 9777.4 947.602 1307.06 100 0 0 0),
(49845 9 9818.21 958.452 1308.79 100 0 0 0),
(49845 10 9841.02 965.945 1307.56 100 3000 0 0),
(49845 11 9823.93 960.138 1308.79 100 0 0 0),
(49845 12 9782.93 949.033 1308.52 100 0 0 0),
(49845 13 9779.99 948.248 1307.89 100 0 0 0),
(49845 14 9772.77 945.122 1306.45 100 0 0 0),
(49845 15 9769.25 940.681 1304.99 100 0 0 0);



-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
