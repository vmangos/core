DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20180526205022');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20180526205022');
-- Add your query below.

SET @OGUID := @CGUID := 43688;
SET @POOL := 25609;

DELETE FROM `gameobject` WHERE `id`='165658' AND `map`='409';

REPLACE INTO `gameobject` (`guid`, `id`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecsmin`, `spawntimesecsmax`, `animprogress`, `state`) VALUES
(@CGUID := @CGUID + 0, '165658', '409', '962.7362', '-569.8403', '-201.5398', '1.1170090', '0', '0', '0.52991870', '0.84804840', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '914.4866', '-630.6673', '-199.6394', '1.3264480', '0', '0', '0.61566070', '0.78801140', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '1082.805', '-833.7496', '-147.8843', '1.8500490', '0', '0', '0.79863550', '0.60181500', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '1066.787', '-863.9681', '-158.0708', '1.2566360', '0', '0', '0.58778480', '0.80901740', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '1075.421', '-893.2966', '-156.4851', '3.8920870', '0', '0', '-0.9304171', '0.36650250', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '954.8288', '-874.3438', '-174.3664', '1.5533410', '0', '0', '0.70090870', '0.71325110', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '790.1550', '-621.2134', '-201.1826', '5.2010830', '0', '0', '-0.5150375', '0.85716760', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '714.6503', '-721.6951', '-209.8234', '0.9075702', '0', '0', '0.43837070', '0.89879420', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '638.4473', '-754.9493', '-208.7231', '1.8151420', '0', '0', '0.78801060', '0.61566170', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '713.8907', '-862.4818', '-202.0194', '4.6774840', '0', '0', '-0.7193394', '0.69465880', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '558.3688', '-816.0379', '-209.0945', '0.6108634', '0', '0', '0.30070500', '0.95371720', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '768.7396', '-1018.044', '-205.6979', '4.7647500', '0', '0', '-0.6883545', '0.72537450', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '916.1265', '-984.7366', '-197.1427', '4.8520170', '0', '0', '-0.6560583', '0.75471020', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '799.4921', '-1160.436', '-151.2297', '3.9269960', '0', '0', '-0.9238787', '0.38268550', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '575.4600', '-1162.054', '-193.8757', '4.3982320', '0', '0', '-0.8090162', '0.58778630', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '609.3452', '-1204.807', '-195.6842', '0.6632232', '0', '0', '0.32556720', '0.94551890', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '1087.426', '-959.2255', '-179.1279', '2.9670410', '0', '0', '0.99619390', '0.08716504', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '946.1553', '-653.7479', '-199.6863', '1.3439010', '0', '0', '0.62251380', '0.78260880', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '871.4665', '-534.3326', '-202.2695', '5.2534420', '0', '0', '-0.4924231', '0.87035600', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '2550.872', '-732.5614', '-173.7645', '0.4712385', '0', '0', '0.23344520', '0.97237000', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '1068.878', '-812.3671', '-151.7363', '3.0717660', '0', '0', '0.99939060', '0.03490613', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '1161.379', '-1028.878', '-183.9210', '0.1221730', '0', '0', '0.06104851', '0.99813480', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '849.5396', '-1045.708', '-190.5559', '0.6108634', '0', '0', '0.30070500', '0.95371720', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '713.3011', '-1089.379', '-178.2846', '5.5152420', '0', '0', '-0.3746061', '0.92718400', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '654.6537', '-505.1699', '-211.2419', '1.2740880', '0', '0', '0.59482190', '0.80385740', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '646.2552', '-865.9178', '-208.3256', '4.1015250', '0', '0', '-0.8870106', '0.46174910', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '570.2415', '-885.5922', '-202.5452', '2.8448830', '0', '0', '0.98901560', '0.14781140', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '672.9239', '-1111.331', '-190.3041', '5.3756150', '0', '0', '-0.4383707', '0.89879420', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '594.3758', '-1097.359', '-200.6618', '4.9741900', '0', '0', '-0.6087608', '0.79335380', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '1015.031', '-818.8433', '-149.9589', '0.9948372', '0', '0', '0.47715850', '0.87881730', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '767.8217', '-969.2228', '-207.1055', '3.0891830', '0', '0', '0.99965670', '0.02620165', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '749.2056', '-1049.872', '-171.8564', '1.2566360', '0', '0', '0.58778480', '0.80901740', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '796.2595', '-513.4534', '-210.4080', '0.7679439', '0', '0', '0.37460610', '0.92718400', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '666.9838', '-567.9455', '-209.0822', '0.1047193', '0', '0', '0.05233574', '0.99862960', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '657.5864', '-1145.584', '-135.7232', '1.3788090', '0', '0', '0.63607790', '0.77162490', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '565.5740', '-775.8340', '-208.0550', '2.7750690', '0', '0', '0.98325440', '0.18223800', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '696.3719', '-1097.156', '-152.4668', '4.4505910', '0', '0', '-0.7933531', '0.60876170', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '674.7775', '-1117.278', '-154.0696', '4.5727640', '0', '0', '-0.7547092', '0.65605940', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '1000.872', '-732.5614', '-173.7645', '0.4712385', '0', '0', '0.23344520', '0.97237000', '604800', '604800', '100', '1'),
(@CGUID := @CGUID + 1, '165658', '409', '789.3251', '-1193.652', '-120.8732', '4.1538850', '0', '0', '-0.8746195', '0.48481010', '604800', '604800', '100', '1');

REPLACE INTO `pool_template` (`entry`, `max_limit`, `description`) VALUES
(@POOL, '10', 'MC - Dark Iron Deposit');

REPLACE INTO `pool_gameobject` (`guid`, `pool_entry`, `chance`, `description`) VALUES
(@OGUID := @OGUID + 0, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit'),
(@OGUID := @OGUID + 1, @POOL, '0', 'MC - Dark Iron Deposit');

-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
